<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-center-radar.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Python,Pandas," />





  <link rel="alternate" href="/atom.xml" title="日损录" type="application/atom+xml" />






<meta name="description" content="一、重建索引（Reindex）12obj = pd.Series([4.5, 7.2, -5.3, 3.6], index=[&apos;d&apos;, &apos;b&apos;, &apos;a&apos;, &apos;c&apos;])obj d    4.5 b    7.2 a   -5.3 c    3">
<meta name="keywords" content="Python,Pandas">
<meta property="og:type" content="article">
<meta property="og:title" content="pandas学习笔记1：核心函数。">
<meta property="og:url" content="http://www.feilishu.top/2017/12/29/ch5.2-essential-func/index.html">
<meta property="og:site_name" content="日损录">
<meta property="og:description" content="一、重建索引（Reindex）12obj = pd.Series([4.5, 7.2, -5.3, 3.6], index=[&apos;d&apos;, &apos;b&apos;, &apos;a&apos;, &apos;c&apos;])obj d    4.5 b    7.2 a   -5.3 c    3.6 dtype: float64">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-12-29T14:40:55.829Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="pandas学习笔记1：核心函数。">
<meta name="twitter:description" content="一、重建索引（Reindex）12obj = pd.Series([4.5, 7.2, -5.3, 3.6], index=[&apos;d&apos;, &apos;b&apos;, &apos;a&apos;, &apos;c&apos;])obj d    4.5 b    7.2 a   -5.3 c    3.6 dtype: float64">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.feilishu.top/2017/12/29/ch5.2-essential-func/"/>





  <title>pandas学习笔记1：核心函数。 | 日损录</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">日损录</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Feilishu's Note</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.feilishu.top/2017/12/29/ch5.2-essential-func/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Feilishu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="日损录">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">pandas学习笔记1：核心函数。</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-29T19:15:55+08:00">
                2017-12-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/IT/" itemprop="url" rel="index">
                    <span itemprop="name">IT</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/IT/Language/" itemprop="url" rel="index">
                    <span itemprop="name">Language</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/IT/Language/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/IT/Language/Python/Pandas/" itemprop="url" rel="index">
                    <span itemprop="name">Pandas</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="一、重建索引（Reindex）"><a href="#一、重建索引（Reindex）" class="headerlink" title="一、重建索引（Reindex）"></a>一、重建索引（Reindex）</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series([<span class="number">4.5</span>, <span class="number">7.2</span>, <span class="number">-5.3</span>, <span class="number">3.6</span>], index=[<span class="string">'d'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="string">'c'</span>])</span><br><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>d    4.5
b    7.2
a   -5.3
c    3.6
dtype: float64
</code></pre><a id="more"></a>
<p>对Series对象应用reindex函数后，将按参数指定的新索引进行重建数据，索引对应的数据如果本来不存在，那么会引进缺失值（NaN）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj2 = obj.reindex([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>])</span><br><span class="line">obj2</span><br></pre></td></tr></table></figure>
<pre><code>a   -5.3
b    7.2
c    3.6
d    4.5
e    NaN
dtype: float64
</code></pre><p>与时间序列（Time Series）的有序数据类似，Series可以在重建索引时，method选项可以指定中间数据填充的模式。举例，method选项指定为ffill，会向前填充中间原不存在的数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj3 = pd.Series([<span class="string">'blue'</span>, <span class="string">'purple'</span>, <span class="string">'yellow'</span>], index=[<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>])</span><br><span class="line">obj3</span><br></pre></td></tr></table></figure>
<pre><code>0      blue
2    purple
4    yellow
dtype: object
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj3.reindex(range(<span class="number">6</span>), method=<span class="string">'ffill'</span>)  <span class="comment">#重建索引后，原索引标签中间原先没有的标签对应的数据则会根据前面的数据往前填充。</span></span><br></pre></td></tr></table></figure>
<pre><code>0      blue
1      blue
2    purple
3    purple
4    yellow
5    yellow
dtype: object
</code></pre><p>对DataFrame来说，reindex函数可以调整行或列或者两者。若只传入一个序列，则只重建行索引。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.arange(<span class="number">9</span>).reshape((<span class="number">3</span>, <span class="number">3</span>)),index=[<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>],columns=[<span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'California'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>Ohio</th><br>      <th>Texas</th><br>      <th>California</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>a</th><br>      <td>0</td><br>      <td>1</td><br>      <td>2</td><br>    </tr><br>    <tr><br>      <th>c</th><br>      <td>3</td><br>      <td>4</td><br>      <td>5</td><br>    </tr><br>    <tr><br>      <th>d</th><br>      <td>6</td><br>      <td>7</td><br>      <td>8</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame2 = frame.reindex([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>])  <span class="comment">#只重建行</span></span><br><span class="line">frame2</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>Ohio</th><br>      <th>Texas</th><br>      <th>California</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>a</th><br>      <td>0.0</td><br>      <td>1.0</td><br>      <td>2.0</td><br>    </tr><br>    <tr><br>      <th>b</th><br>      <td>NaN</td><br>      <td>NaN</td><br>      <td>NaN</td><br>    </tr><br>    <tr><br>      <th>c</th><br>      <td>3.0</td><br>      <td>4.0</td><br>      <td>5.0</td><br>    </tr><br>    <tr><br>      <th>d</th><br>      <td>6.0</td><br>      <td>7.0</td><br>      <td>8.0</td><br>    </tr><br>  </tbody><br></table><br></div>



<p>指定columns关键字，可调整列索引。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">states = [<span class="string">'Texas'</span>, <span class="string">'Utah'</span>, <span class="string">'California'</span>]</span><br><span class="line">frame.reindex(columns=states)</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>Texas</th><br>      <th>Utah</th><br>      <th>California</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>a</th><br>      <td>1</td><br>      <td>NaN</td><br>      <td>2</td><br>    </tr><br>    <tr><br>      <th>c</th><br>      <td>4</td><br>      <td>NaN</td><br>      <td>5</td><br>    </tr><br>    <tr><br>      <th>d</th><br>      <td>7</td><br>      <td>NaN</td><br>      <td>8</td><br>    </tr><br>  </tbody><br></table><br></div>



<p>同时调整行和列，使用loc方法会使语义更加明确。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.loc[[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>], states]</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>Texas</th><br>      <th>Utah</th><br>      <th>California</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>a</th><br>      <td>1.0</td><br>      <td>NaN</td><br>      <td>2.0</td><br>    </tr><br>    <tr><br>      <th>b</th><br>      <td>NaN</td><br>      <td>NaN</td><br>      <td>NaN</td><br>    </tr><br>    <tr><br>      <th>c</th><br>      <td>4.0</td><br>      <td>NaN</td><br>      <td>5.0</td><br>    </tr><br>    <tr><br>      <th>d</th><br>      <td>7.0</td><br>      <td>NaN</td><br>      <td>8.0</td><br>    </tr><br>  </tbody><br></table><br></div>



<h2 id="reindex函数参数选项"><a href="#reindex函数参数选项" class="headerlink" title="reindex函数参数选项"></a>reindex函数参数选项</h2><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>index</td>
<td>指定一个序列作为调整后的序列。可以是Index对象或其他python类序列</td>
</tr>
<tr>
<td>method</td>
<td>间行填充方法， ‘ffill’向前填充,’bfill’向后填充.</td>
</tr>
<tr>
<td>fill_value</td>
<td>缺失值填充值</td>
</tr>
<tr>
<td>limit</td>
<td>填充时，填充间行的最大数</td>
</tr>
<tr>
<td>tolerance</td>
<td>填充时，不准确匹配时，填充间行的最大数</td>
</tr>
<tr>
<td>level</td>
<td>多重索引的层次中匹配简单索引，否则选择其子集</td>
</tr>
<tr>
<td>copy</td>
<td>是否拷贝原索引数据，如果新索引与老索引相等</td>
</tr>
</tbody>
</table>
<h1 id="二、使用drop函数从一条轴上删除元素"><a href="#二、使用drop函数从一条轴上删除元素" class="headerlink" title="二、使用drop函数从一条轴上删除元素"></a>二、使用drop函数从一条轴上删除元素</h1><h2 id="1-删除Series中的元素"><a href="#1-删除Series中的元素" class="headerlink" title="1.删除Series中的元素"></a>1.删除Series中的元素</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">obj = pd.Series(np.arange(<span class="number">5.</span>), index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>])</span><br><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0.0
b    1.0
c    2.0
d    3.0
e    4.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">new_obj = obj.drop(<span class="string">'c'</span>)  <span class="comment">#删掉索引为c的元素</span></span><br><span class="line">new_obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0.0
b    1.0
d    3.0
e    4.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0.0
b    1.0
d    3.0
e    4.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj.drop([<span class="string">'d'</span>, <span class="string">'c'</span>]) <span class="comment">#删除d、c两个元素</span></span><br></pre></td></tr></table></figure>
<pre><code>a    0.0
b    1.0
e    4.0
dtype: float64
</code></pre><h2 id="2-指定轴删除DataFrame的行或列"><a href="#2-指定轴删除DataFrame的行或列" class="headerlink" title="2.指定轴删除DataFrame的行或列"></a>2.指定轴删除DataFrame的行或列</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = pd.DataFrame(np.arange(<span class="number">16</span>).reshape((<span class="number">4</span>, <span class="number">4</span>)),index=[<span class="string">'Ohio'</span>, <span class="string">'Colorado'</span>, <span class="string">'Utah'</span>, <span class="string">'New York'</span>],columns=[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>])</span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>one</th><br>      <th>two</th><br>      <th>three</th><br>      <th>four</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Ohio</th><br>      <td>0</td><br>      <td>1</td><br>      <td>2</td><br>      <td>3</td><br>    </tr><br>    <tr><br>      <th>Colorado</th><br>      <td>4</td><br>      <td>5</td><br>      <td>6</td><br>      <td>7</td><br>    </tr><br>    <tr><br>      <th>Utah</th><br>      <td>8</td><br>      <td>9</td><br>      <td>10</td><br>      <td>11</td><br>    </tr><br>    <tr><br>      <th>New York</th><br>      <td>12</td><br>      <td>13</td><br>      <td>14</td><br>      <td>15</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.drop([<span class="string">'Colorado'</span>, <span class="string">'Ohio'</span>]) <span class="comment">#沿0轴（行）删除，即根据行的索引删除行</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>one</th><br>      <th>two</th><br>      <th>three</th><br>      <th>four</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Utah</th><br>      <td>8</td><br>      <td>9</td><br>      <td>10</td><br>      <td>11</td><br>    </tr><br>    <tr><br>      <th>New York</th><br>      <td>12</td><br>      <td>13</td><br>      <td>14</td><br>      <td>15</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.drop(<span class="string">'two'</span>, axis=<span class="number">1</span>)  <span class="comment">#沿1轴（列）删除，跟根据列的标签删除指定列</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>one</th><br>      <th>three</th><br>      <th>four</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Ohio</th><br>      <td>0</td><br>      <td>2</td><br>      <td>3</td><br>    </tr><br>    <tr><br>      <th>Colorado</th><br>      <td>4</td><br>      <td>6</td><br>      <td>7</td><br>    </tr><br>    <tr><br>      <th>Utah</th><br>      <td>8</td><br>      <td>10</td><br>      <td>11</td><br>    </tr><br>    <tr><br>      <th>New York</th><br>      <td>12</td><br>      <td>14</td><br>      <td>15</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.drop([<span class="string">'two'</span>, <span class="string">'four'</span>], axis=<span class="string">'columns'</span>)  <span class="comment">#axis参数可以指定为columns，与指定为1作用相同。</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>one</th><br>      <th>three</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Ohio</th><br>      <td>0</td><br>      <td>2</td><br>    </tr><br>    <tr><br>      <th>Colorado</th><br>      <td>4</td><br>      <td>6</td><br>    </tr><br>    <tr><br>      <th>Utah</th><br>      <td>8</td><br>      <td>10</td><br>    </tr><br>    <tr><br>      <th>New York</th><br>      <td>12</td><br>      <td>14</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0.0
b    1.0
c    2.0
d    3.0
e    4.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj.drop(<span class="string">'c'</span>, inplace=<span class="keyword">True</span>)  <span class="comment">#就地修改原对象，使用inplace参数需小心，因为被删掉的元素都被销毁了。</span></span><br><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0.0
b    1.0
d    3.0
e    4.0
dtype: float64
</code></pre><h1 id="三、索引、选择、筛选"><a href="#三、索引、选择、筛选" class="headerlink" title="三、索引、选择、筛选"></a>三、索引、选择、筛选</h1><h2 id="对Series索引操作"><a href="#对Series索引操作" class="headerlink" title="对Series索引操作"></a>对Series索引操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series(np.arange(<span class="number">4.</span>), index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>])</span><br><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0.0
b    1.0
c    2.0
d    3.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="string">'b'</span>] <span class="comment">#按照索引标签定位对象</span></span><br></pre></td></tr></table></figure>
<pre><code>1.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="number">1</span>] <span class="comment">#也可以按照位置进行索引</span></span><br></pre></td></tr></table></figure>
<pre><code>1.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="number">2</span>:<span class="number">4</span>] <span class="comment">#切片</span></span><br></pre></td></tr></table></figure>
<pre><code>c    2.0
d    3.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[[<span class="string">'b'</span>, <span class="string">'a'</span>, <span class="string">'d'</span>]] <span class="comment">#多个索引标签</span></span><br></pre></td></tr></table></figure>
<pre><code>b    1.0
a    0.0
d    3.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[[<span class="number">1</span>, <span class="number">3</span>]]  <span class="comment">#多个索引位置</span></span><br></pre></td></tr></table></figure>
<pre><code>b    1.0
d    3.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[obj &lt; <span class="number">2</span>]  <span class="comment">#使用条件表达式</span></span><br></pre></td></tr></table></figure>
<pre><code>a    0.0
b    1.0
dtype: float64
</code></pre><p><strong>Series使用索引标签切片与普通Numpy切片不同之处是Series切片时最后的元素是包含在内的。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="string">'b'</span>:<span class="string">'c'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>b    1.0
c    2.0
dtype: float64
</code></pre><p><strong>使用切片表达式对多个元素进行赋值</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="string">'b'</span>:<span class="string">'c'</span>] = <span class="number">5</span></span><br><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0.0
b    5.0
c    5.0
d    3.0
dtype: float64
</code></pre><h2 id="对DataFrame的切片、索引操作生成一列或多列元素。"><a href="#对DataFrame的切片、索引操作生成一列或多列元素。" class="headerlink" title="对DataFrame的切片、索引操作生成一列或多列元素。"></a>对DataFrame的切片、索引操作生成一列或多列元素。</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = pd.DataFrame(np.arange(<span class="number">16</span>).reshape((<span class="number">4</span>, <span class="number">4</span>)),index=[<span class="string">'Ohio'</span>, <span class="string">'Colorado'</span>, <span class="string">'Utah'</span>, <span class="string">'New York'</span>],columns=[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>])</span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>one</th><br>      <th>two</th><br>      <th>three</th><br>      <th>four</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Ohio</th><br>      <td>0</td><br>      <td>1</td><br>      <td>2</td><br>      <td>3</td><br>    </tr><br>    <tr><br>      <th>Colorado</th><br>      <td>4</td><br>      <td>5</td><br>      <td>6</td><br>      <td>7</td><br>    </tr><br>    <tr><br>      <th>Utah</th><br>      <td>8</td><br>      <td>9</td><br>      <td>10</td><br>      <td>11</td><br>    </tr><br>    <tr><br>      <th>New York</th><br>      <td>12</td><br>      <td>13</td><br>      <td>14</td><br>      <td>15</td><br>    </tr><br>  </tbody><br></table><br></div>



<p><strong>使用列标签进行索引，得到对应的列</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">'two'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>Ohio         1
Colorado     5
Utah         9
New York    13
Name: two, dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[[<span class="string">'three'</span>, <span class="string">'one'</span>]]</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>three</th><br>      <th>one</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Ohio</th><br>      <td>2</td><br>      <td>0</td><br>    </tr><br>    <tr><br>      <th>Colorado</th><br>      <td>6</td><br>      <td>4</td><br>    </tr><br>    <tr><br>      <th>Utah</th><br>      <td>10</td><br>      <td>8</td><br>    </tr><br>    <tr><br>      <th>New York</th><br>      <td>14</td><br>      <td>12</td><br>    </tr><br>  </tbody><br></table><br></div>



<p><strong>行选择</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[:<span class="number">2</span>]  <span class="comment">#行选择的简便形式</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>one</th><br>      <th>two</th><br>      <th>three</th><br>      <th>four</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Ohio</th><br>      <td>0</td><br>      <td>1</td><br>      <td>2</td><br>      <td>3</td><br>    </tr><br>    <tr><br>      <th>Colorado</th><br>      <td>4</td><br>      <td>5</td><br>      <td>6</td><br>      <td>7</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[data[<span class="string">'three'</span>] &gt; <span class="number">5</span>]  <span class="comment">#逻辑表达式，选择行</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>one</th><br>      <th>two</th><br>      <th>three</th><br>      <th>four</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Colorado</th><br>      <td>4</td><br>      <td>5</td><br>      <td>6</td><br>      <td>7</td><br>    </tr><br>    <tr><br>      <th>Utah</th><br>      <td>8</td><br>      <td>9</td><br>      <td>10</td><br>      <td>11</td><br>    </tr><br>    <tr><br>      <th>New York</th><br>      <td>12</td><br>      <td>13</td><br>      <td>14</td><br>      <td>15</td><br>    </tr><br>  </tbody><br></table><br></div>



<p><strong>使用布尔DataFrame进行选择，用法与Numpy的二维数组是类似的。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data &lt; <span class="number">5</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>one</th><br>      <th>two</th><br>      <th>three</th><br>      <th>four</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Ohio</th><br>      <td>True</td><br>      <td>True</td><br>      <td>True</td><br>      <td>True</td><br>    </tr><br>    <tr><br>      <th>Colorado</th><br>      <td>True</td><br>      <td>False</td><br>      <td>False</td><br>      <td>False</td><br>    </tr><br>    <tr><br>      <th>Utah</th><br>      <td>False</td><br>      <td>False</td><br>      <td>False</td><br>      <td>False</td><br>    </tr><br>    <tr><br>      <th>New York</th><br>      <td>False</td><br>      <td>False</td><br>      <td>False</td><br>      <td>False</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data[data &lt; <span class="number">5</span>] = <span class="number">0</span>  <span class="comment">#小于5的元素赋值为0</span></span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>one</th><br>      <th>two</th><br>      <th>three</th><br>      <th>four</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Ohio</th><br>      <td>0</td><br>      <td>0</td><br>      <td>0</td><br>      <td>0</td><br>    </tr><br>    <tr><br>      <th>Colorado</th><br>      <td>0</td><br>      <td>5</td><br>      <td>6</td><br>      <td>7</td><br>    </tr><br>    <tr><br>      <th>Utah</th><br>      <td>8</td><br>      <td>9</td><br>      <td>10</td><br>      <td>11</td><br>    </tr><br>    <tr><br>      <th>New York</th><br>      <td>12</td><br>      <td>13</td><br>      <td>14</td><br>      <td>15</td><br>    </tr><br>  </tbody><br></table><br></div>



<h2 id="使用loc或iloc进行行选择"><a href="#使用loc或iloc进行行选择" class="headerlink" title="使用loc或iloc进行行选择"></a>使用loc或iloc进行行选择</h2><p>loc是用索引标签进行行选择，iloc使用整数索引进行行选择。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[<span class="string">'Colorado'</span>, [<span class="string">'two'</span>, <span class="string">'three'</span>]] <span class="comment">#选择Colorado行的two和three这两列的对应元素</span></span><br></pre></td></tr></table></figure>
<pre><code>two      5
three    6
Name: Colorado, dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.iloc[<span class="number">2</span>, [<span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>]]   <span class="comment">#选择第3行的four、one、two这三列的对应元素</span></span><br></pre></td></tr></table></figure>
<pre><code>four    11
one      8
two      9
Name: Utah, dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.iloc[<span class="number">2</span>] <span class="comment">#第三行</span></span><br></pre></td></tr></table></figure>
<pre><code>one       8
two       9
three    10
four     11
Name: Utah, dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.iloc[[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>]] <span class="comment">#第2、3行的第4、1、2列的对应元素</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>four</th><br>      <th>one</th><br>      <th>two</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Colorado</th><br>      <td>7</td><br>      <td>0</td><br>      <td>5</td><br>    </tr><br>    <tr><br>      <th>Utah</th><br>      <td>11</td><br>      <td>8</td><br>      <td>9</td><br>    </tr><br>  </tbody><br></table><br></div>



<p><strong>上面的对一个或多个标签进行的索引的方法也可应用于切片</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[:<span class="string">'Utah'</span>, <span class="string">'two'</span>] <span class="comment">#Utah行之前的行的two列元素</span></span><br></pre></td></tr></table></figure>
<pre><code>Ohio        0
Colorado    5
Utah        9
Name: two, dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.iloc[:, :<span class="number">3</span>][data.three &gt; <span class="number">5</span>] <span class="comment">#先选择所有的行，前3列，再使用逻辑表达式筛选</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>one</th><br>      <th>two</th><br>      <th>three</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Colorado</th><br>      <td>0</td><br>      <td>5</td><br>      <td>6</td><br>    </tr><br>    <tr><br>      <th>Utah</th><br>      <td>8</td><br>      <td>9</td><br>      <td>10</td><br>    </tr><br>    <tr><br>      <th>New York</th><br>      <td>12</td><br>      <td>13</td><br>      <td>14</td><br>    </tr><br>  </tbody><br></table><br></div>



<h3 id="DataFrame的索引类型"><a href="#DataFrame的索引类型" class="headerlink" title="DataFrame的索引类型"></a>DataFrame的索引类型</h3><table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>df[val]</td>
<td>选择单列或多列，特殊用法：布尔值数组，切片，布尔值DataFrame</td>
</tr>
<tr>
<td>df.loc[val]</td>
<td>根据标签选择行</td>
</tr>
<tr>
<td>df.loc[:, val]</td>
<td>根据标签选择列</td>
</tr>
<tr>
<td>df.loc[val1, val2]</td>
<td>同时选择行、列</td>
</tr>
<tr>
<td>df.iloc[where]</td>
<td>根据整数位置选择行</td>
</tr>
<tr>
<td>df.iloc[:, where]</td>
<td>根据整数位置选择列</td>
</tr>
<tr>
<td>df.iloc[where_i, where_j]</td>
<td>根据整数位置同时选择行、列</td>
</tr>
<tr>
<td>df.at[label_i, label_j]</td>
<td>根据行、列标签选择一个标量值</td>
</tr>
<tr>
<td>df.iat[i, j]</td>
<td>根据整数位置选择标量值</td>
</tr>
<tr>
<td>reindex</td>
<td>根据行、列标签选择</td>
</tr>
<tr>
<td>get_value, set_value</td>
<td>根据行列标签读取值或赋值</td>
</tr>
</tbody>
</table>
<h1 id="四、整数索引产生的问题"><a href="#四、整数索引产生的问题" class="headerlink" title="四、整数索引产生的问题"></a>四、整数索引产生的问题</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ser = pd.Series(np.arange(<span class="number">3.</span>))  <span class="comment">#不适用索引标签，索引缺省为整数序列</span></span><br><span class="line">ser</span><br></pre></td></tr></table></figure>
<pre><code>0    0.0
1    1.0
2    2.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ser[<span class="number">2</span>]  <span class="comment">#因为是整数标签，使用的是pandas Series中的索引对象进行索引。2是索引对象[0,1,2]中的元素，所以能正常读取。</span></span><br></pre></td></tr></table></figure>
<pre><code>2.0
</code></pre><p><strong>没有标签的情况下，使用整数位置索引，用-1取最后一个数，产生错误。因为Ser中的索引为整数0,1,2，没有-1。在python的内建索引机制中，-1是取最后一个数，而pandas是按照其索引对象来定位的，所以python内建的索引机制与pandas的索引机制在这里产生了混淆。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ser[<span class="number">-1</span>]   <span class="comment"># Series索引对象[0,1,2]中不包含-1,因此出错。</span></span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

KeyError                                  Traceback (most recent call last)

&lt;ipython-input-60-3cbe0b873a9e&gt; in &lt;module&gt;()
----&gt; 1 ser[-1]


D:\Anaconda3\lib\site-packages\pandas\core\series.py in __getitem__(self, key)
    599         key = com._apply_if_callable(key, self)
    600         try:
--&gt; 601             result = self.index.get_value(self, key)
    602 
    603             if not is_scalar(result):


D:\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in get_value(self, series, key)
   2475         try:
   2476             return self._engine.get_value(s, k,
-&gt; 2477                                           tz=getattr(series.dtype, &apos;tz&apos;, None))
   2478         except KeyError as e1:
   2479             if len(self) &gt; 0 and self.inferred_type in [&apos;integer&apos;, &apos;boolean&apos;]:


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_value()


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_value()


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_loc()


pandas\_libs\hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item()


pandas\_libs\hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item()


KeyError: -1
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ser2 = pd.Series(np.arange(<span class="number">3.</span>), index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br></pre></td></tr></table></figure>
<p><strong>使用标签的Series，因为Series的索引对象不是整数，因此使用整数索引时不会产生混淆，只可能用python内建索引机制进行选择，选择是最后一个元素。所以，为避免索引对象的混淆，使用索引标签是推荐行为。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ser2[<span class="number">-1</span>]   <span class="comment">#与ser不同，这里是python内建索引机制，因此-1是读取最后一个数</span></span><br></pre></td></tr></table></figure>
<pre><code>2.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ser[:<span class="number">1</span>]  <span class="comment">#同样，切片操作也是面向标签的。所以，因为Ser是整数索引，没有索引标签，所以这里选择的Series的整数标签行，而不是python的内建索引机制。</span></span><br></pre></td></tr></table></figure>
<pre><code>0    0.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ser.loc[:<span class="number">1</span>]  <span class="comment">#如果用pandas的loc函数，则选择对象的意义很明确，loc函数的结果包含最后的数的</span></span><br></pre></td></tr></table></figure>
<pre><code>0    0.0
1    1.0
dtype: float64
</code></pre><h1 id="五、数学运算与数据对齐"><a href="#五、数学运算与数据对齐" class="headerlink" title="五、数学运算与数据对齐"></a>五、数学运算与数据对齐</h1><p> pandas的一个重要特性是两个不同索引的对象进行数学运算会如何表现。如，这两个对象的索引不同，讲这两个对象相加，如果索引对不相同，那么结果对象的索引是参加运算的两个对象的索引的并集。如果你对数据库熟悉的话，则可以理解成索引标签的outer连接。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s1 = pd.Series([<span class="number">7.3</span>, <span class="number">-2.5</span>, <span class="number">3.4</span>, <span class="number">1.5</span>], index=[<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>])</span><br><span class="line">s1</span><br></pre></td></tr></table></figure>
<pre><code>a    7.3
c   -2.5
d    3.4
e    1.5
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s2 = pd.Series([<span class="number">-2.1</span>, <span class="number">3.6</span>, <span class="number">-1.5</span>, <span class="number">4</span>, <span class="number">3.1</span>],index=[<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>])</span><br><span class="line">s2</span><br></pre></td></tr></table></figure>
<pre><code>a   -2.1
c    3.6
e   -1.5
f    4.0
g    3.1
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s1 + s2  <span class="comment">#索引标签d只在s1中，f、g只在s2中，结果是两个合集</span></span><br></pre></td></tr></table></figure>
<pre><code>a    5.2
c    1.1
d    NaN
e    0.0
f    NaN
g    NaN
dtype: float64
</code></pre><h3 id="对DataFrame来说，行和列两个方向都要对齐"><a href="#对DataFrame来说，行和列两个方向都要对齐" class="headerlink" title="对DataFrame来说，行和列两个方向都要对齐"></a>对DataFrame来说，行和列两个方向都要对齐</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.DataFrame(np.arange(<span class="number">9.</span>).reshape((<span class="number">3</span>, <span class="number">3</span>)), columns=list(<span class="string">'bcd'</span>),index=[<span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Colorado'</span>])</span><br><span class="line">df1</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>b</th><br>      <th>c</th><br>      <th>d</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Ohio</th><br>      <td>0.0</td><br>      <td>1.0</td><br>      <td>2.0</td><br>    </tr><br>    <tr><br>      <th>Texas</th><br>      <td>3.0</td><br>      <td>4.0</td><br>      <td>5.0</td><br>    </tr><br>    <tr><br>      <th>Colorado</th><br>      <td>6.0</td><br>      <td>7.0</td><br>      <td>8.0</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df2 = pd.DataFrame(np.arange(<span class="number">12.</span>).reshape((<span class="number">4</span>, <span class="number">3</span>)), columns=list(<span class="string">'bde'</span>),index=[<span class="string">'Utah'</span>, <span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Oregon'</span>])</span><br><span class="line">df2</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>b</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Utah</th><br>      <td>0.0</td><br>      <td>1.0</td><br>      <td>2.0</td><br>    </tr><br>    <tr><br>      <th>Ohio</th><br>      <td>3.0</td><br>      <td>4.0</td><br>      <td>5.0</td><br>    </tr><br>    <tr><br>      <th>Texas</th><br>      <td>6.0</td><br>      <td>7.0</td><br>      <td>8.0</td><br>    </tr><br>    <tr><br>      <th>Oregon</th><br>      <td>9.0</td><br>      <td>10.0</td><br>      <td>11.0</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1 + df2   <span class="comment">#两者之和，只在索引标签和列标签并集的位置数值相加，其他位置都是NaN</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>b</th><br>      <th>c</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Colorado</th><br>      <td>NaN</td><br>      <td>NaN</td><br>      <td>NaN</td><br>      <td>NaN</td><br>    </tr><br>    <tr><br>      <th>Ohio</th><br>      <td>3.0</td><br>      <td>NaN</td><br>      <td>6.0</td><br>      <td>NaN</td><br>    </tr><br>    <tr><br>      <th>Oregon</th><br>      <td>NaN</td><br>      <td>NaN</td><br>      <td>NaN</td><br>      <td>NaN</td><br>    </tr><br>    <tr><br>      <th>Texas</th><br>      <td>9.0</td><br>      <td>NaN</td><br>      <td>12.0</td><br>      <td>NaN</td><br>    </tr><br>    <tr><br>      <th>Utah</th><br>      <td>NaN</td><br>      <td>NaN</td><br>      <td>NaN</td><br>      <td>NaN</td><br>    </tr><br>  </tbody><br></table><br></div>



<p>所以，如果两个DataFrame没有共同的索引标签或行标签，加（减）运算的结果将全为NaN。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">df1 = pd.DataFrame(&#123;<span class="string">'A'</span>: [<span class="number">1</span>, <span class="number">2</span>]&#125;)</span><br><span class="line">df1</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>A</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>1</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>2</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df2 = pd.DataFrame(&#123;<span class="string">'B'</span>: [<span class="number">3</span>, <span class="number">4</span>]&#125;)</span><br><span class="line">df2</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>B</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>3</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>4</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1 - df2  <span class="comment">#两者没有共同的列，所以所有的数值都是NaN</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>A</th><br>      <th>B</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>NaN</td><br>      <td>NaN</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>NaN</td><br>      <td>NaN</td><br>    </tr><br>  </tbody><br></table><br></div>



<h2 id="以填充数值进行算数运算"><a href="#以填充数值进行算数运算" class="headerlink" title="以填充数值进行算数运算"></a>以填充数值进行算数运算</h2><p>对不同索引的对象进行算数运算，如果一个对象轴中的数据在另一个对象中找不到对应的标签，可以指定填充值进行填充。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.DataFrame(np.arange(<span class="number">12.</span>).reshape((<span class="number">3</span>, <span class="number">4</span>)),columns=list(<span class="string">'abcd'</span>))</span><br><span class="line">df1</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>a</th><br>      <th>b</th><br>      <th>c</th><br>      <th>d</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>0.0</td><br>      <td>1.0</td><br>      <td>2.0</td><br>      <td>3.0</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>4.0</td><br>      <td>5.0</td><br>      <td>6.0</td><br>      <td>7.0</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>8.0</td><br>      <td>9.0</td><br>      <td>10.0</td><br>      <td>11.0</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df2 = pd.DataFrame(np.arange(<span class="number">20.</span>).reshape((<span class="number">4</span>, <span class="number">5</span>)),columns=list(<span class="string">'abcde'</span>))</span><br><span class="line">df2.loc[<span class="number">1</span>, <span class="string">'b'</span>] = np.nan   <span class="comment">#df2的1行b列有一个数值缺失。</span></span><br><span class="line">df2</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>a</th><br>      <th>b</th><br>      <th>c</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>0.0</td><br>      <td>1.0</td><br>      <td>2.0</td><br>      <td>3.0</td><br>      <td>4.0</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>5.0</td><br>      <td>NaN</td><br>      <td>7.0</td><br>      <td>8.0</td><br>      <td>9.0</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>10.0</td><br>      <td>11.0</td><br>      <td>12.0</td><br>      <td>13.0</td><br>      <td>14.0</td><br>    </tr><br>    <tr><br>      <th>3</th><br>      <td>15.0</td><br>      <td>16.0</td><br>      <td>17.0</td><br>      <td>18.0</td><br>      <td>19.0</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1 + df2   <span class="comment">#缺失值的计算仍是缺失值</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>a</th><br>      <th>b</th><br>      <th>c</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>0.0</td><br>      <td>2.0</td><br>      <td>4.0</td><br>      <td>6.0</td><br>      <td>NaN</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>9.0</td><br>      <td>NaN</td><br>      <td>13.0</td><br>      <td>15.0</td><br>      <td>NaN</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>18.0</td><br>      <td>20.0</td><br>      <td>22.0</td><br>      <td>24.0</td><br>      <td>NaN</td><br>    </tr><br>    <tr><br>      <th>3</th><br>      <td>NaN</td><br>      <td>NaN</td><br>      <td>NaN</td><br>      <td>NaN</td><br>      <td>NaN</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.add(df2, fill_value=<span class="number">0</span>) <span class="comment">#对df1和df2中的缺失值指定为0，然后再计算。</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>a</th><br>      <th>b</th><br>      <th>c</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>0.0</td><br>      <td>2.0</td><br>      <td>4.0</td><br>      <td>6.0</td><br>      <td>4.0</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>9.0</td><br>      <td>5.0</td><br>      <td>13.0</td><br>      <td>15.0</td><br>      <td>9.0</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>18.0</td><br>      <td>20.0</td><br>      <td>22.0</td><br>      <td>24.0</td><br>      <td>14.0</td><br>    </tr><br>    <tr><br>      <th>3</th><br>      <td>15.0</td><br>      <td>16.0</td><br>      <td>17.0</td><br>      <td>18.0</td><br>      <td>19.0</td><br>    </tr><br>  </tbody><br></table><br></div>



<h3 id="对于Series和DataFrame的Reindex函数，也可以指定缺失填充值"><a href="#对于Series和DataFrame的Reindex函数，也可以指定缺失填充值" class="headerlink" title="对于Series和DataFrame的Reindex函数，也可以指定缺失填充值"></a>对于Series和DataFrame的Reindex函数，也可以指定缺失填充值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.reindex(columns=df2.columns, fill_value=<span class="number">0</span>) <span class="comment">#对df1使用df2的列名重新创建索引，缺失的列填充为0.</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>a</th><br>      <th>b</th><br>      <th>c</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>0.0</td><br>      <td>1.0</td><br>      <td>2.0</td><br>      <td>3.0</td><br>      <td>0</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>4.0</td><br>      <td>5.0</td><br>      <td>6.0</td><br>      <td>7.0</td><br>      <td>0</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>8.0</td><br>      <td>9.0</td><br>      <td>10.0</td><br>      <td>11.0</td><br>      <td>0</td><br>    </tr><br>  </tbody><br></table><br></div>



<h3 id="灵活的算数运算函数"><a href="#灵活的算数运算函数" class="headerlink" title="灵活的算数运算函数"></a>灵活的算数运算函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>add, radd</td>
<td>相加，radd是把对象翻为右参数，下同</td>
</tr>
<tr>
<td>sub, rsub</td>
<td>相减</td>
</tr>
<tr>
<td>div, rdiv</td>
<td>相除</td>
</tr>
<tr>
<td>floordiv, rfloordiv</td>
<td>地板除(//)</td>
</tr>
<tr>
<td>mul, rmul</td>
<td>乘法</td>
</tr>
<tr>
<td>pow, rpow</td>
<td>指数</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> / df1</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>a</th><br>      <th>b</th><br>      <th>c</th><br>      <th>d</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>inf</td><br>      <td>1.000000</td><br>      <td>0.500000</td><br>      <td>0.333333</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>0.250000</td><br>      <td>0.200000</td><br>      <td>0.166667</td><br>      <td>0.142857</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>0.125000</td><br>      <td>0.111111</td><br>      <td>0.100000</td><br>      <td>0.090909</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.rdiv(<span class="number">1</span>)  <span class="comment">#df1.rdiv(1)与1/df1等价。</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>a</th><br>      <th>b</th><br>      <th>c</th><br>      <th>d</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>inf</td><br>      <td>1.000000</td><br>      <td>0.500000</td><br>      <td>0.333333</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>0.250000</td><br>      <td>0.200000</td><br>      <td>0.166667</td><br>      <td>0.142857</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>0.125000</td><br>      <td>0.111111</td><br>      <td>0.100000</td><br>      <td>0.090909</td><br>    </tr><br>  </tbody><br></table><br></div>



<h2 id="DateFrame和Series之间的运算"><a href="#DateFrame和Series之间的运算" class="headerlink" title="DateFrame和Series之间的运算"></a>DateFrame和Series之间的运算</h2><p>与numpy支持不同维度的数组之间的运算类似，pandas也支持DataFrame和Series之间的运算。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">12.</span>).reshape((<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[  0.,   1.,   2.,   3.],
       [  4.,   5.,   6.,   7.],
       [  8.,   9.,  10.,  11.]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([ 0.,  1.,  2.,  3.])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr - arr[<span class="number">0</span>]  <span class="comment">#DataFrame与其第一行的差</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0.,  0.,  0.,  0.],
       [ 4.,  4.,  4.,  4.],
       [ 8.,  8.,  8.,  8.]])
</code></pre><p>上例中，Numpy数组的每一行都会减去第一行，而不是只是第一行参加运算。这就是<strong>广播（broadcasting）</strong>。在pandas中，也有类似广播模式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.arange(<span class="number">12.</span>).reshape((<span class="number">4</span>, <span class="number">3</span>)),columns=list(<span class="string">'bde'</span>),index=[<span class="string">'Utah'</span>, <span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Oregon'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>b</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Utah</th><br>      <td>0.0</td><br>      <td>1.0</td><br>      <td>2.0</td><br>    </tr><br>    <tr><br>      <th>Ohio</th><br>      <td>3.0</td><br>      <td>4.0</td><br>      <td>5.0</td><br>    </tr><br>    <tr><br>      <th>Texas</th><br>      <td>6.0</td><br>      <td>7.0</td><br>      <td>8.0</td><br>    </tr><br>    <tr><br>      <th>Oregon</th><br>      <td>9.0</td><br>      <td>10.0</td><br>      <td>11.0</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">series = frame.iloc[<span class="number">0</span>]</span><br><span class="line">series</span><br></pre></td></tr></table></figure>
<pre><code>b    0.0
d    1.0
e    2.0
Name: Utah, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame - series</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>b</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Utah</th><br>      <td>0.0</td><br>      <td>0.0</td><br>      <td>0.0</td><br>    </tr><br>    <tr><br>      <th>Ohio</th><br>      <td>3.0</td><br>      <td>3.0</td><br>      <td>3.0</td><br>    </tr><br>    <tr><br>      <th>Texas</th><br>      <td>6.0</td><br>      <td>6.0</td><br>      <td>6.0</td><br>    </tr><br>    <tr><br>      <th>Oregon</th><br>      <td>9.0</td><br>      <td>9.0</td><br>      <td>9.0</td><br>    </tr><br>  </tbody><br></table><br></div>



<p>缺省状况下，DataFrame与Series的差是以Series的索引去匹配DataFrame的列，逐行广播运算。<br>如果一个索引的值在DataFrame列中或Series索引之一中不存在，那么结果对象会合并DataFrame列名及Series索引名以重建为新的索引。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">series2 = pd.Series(range(<span class="number">3</span>), index=[<span class="string">'b'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>])</span><br><span class="line">frame + series2</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>b</th><br>      <th>d</th><br>      <th>e</th><br>      <th>f</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Utah</th><br>      <td>0.0</td><br>      <td>NaN</td><br>      <td>3.0</td><br>      <td>NaN</td><br>    </tr><br>    <tr><br>      <th>Ohio</th><br>      <td>3.0</td><br>      <td>NaN</td><br>      <td>6.0</td><br>      <td>NaN</td><br>    </tr><br>    <tr><br>      <th>Texas</th><br>      <td>6.0</td><br>      <td>NaN</td><br>      <td>9.0</td><br>      <td>NaN</td><br>    </tr><br>    <tr><br>      <th>Oregon</th><br>      <td>9.0</td><br>      <td>NaN</td><br>      <td>12.0</td><br>      <td>NaN</td><br>    </tr><br>  </tbody><br></table><br></div>



<p>如果想要改变上述缺省行为，想要DataFrame按列广播，在行上进行匹配，那么可以用算数函数，并指定轴参数加以改变。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">series3 = frame[<span class="string">'d'</span>]</span><br><span class="line">series3</span><br></pre></td></tr></table></figure>
<pre><code>Utah       1.0
Ohio       4.0
Texas      7.0
Oregon    10.0
Name: d, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>b</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Utah</th><br>      <td>0.0</td><br>      <td>1.0</td><br>      <td>2.0</td><br>    </tr><br>    <tr><br>      <th>Ohio</th><br>      <td>3.0</td><br>      <td>4.0</td><br>      <td>5.0</td><br>    </tr><br>    <tr><br>      <th>Texas</th><br>      <td>6.0</td><br>      <td>7.0</td><br>      <td>8.0</td><br>    </tr><br>    <tr><br>      <th>Oregon</th><br>      <td>9.0</td><br>      <td>10.0</td><br>      <td>11.0</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.sub(series3, axis=<span class="string">'index'</span>)  <span class="comment">#指定按列进行运算并广播运算。</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>b</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Utah</th><br>      <td>-1.0</td><br>      <td>0.0</td><br>      <td>1.0</td><br>    </tr><br>    <tr><br>      <th>Ohio</th><br>      <td>-1.0</td><br>      <td>0.0</td><br>      <td>1.0</td><br>    </tr><br>    <tr><br>      <th>Texas</th><br>      <td>-1.0</td><br>      <td>0.0</td><br>      <td>1.0</td><br>    </tr><br>    <tr><br>      <th>Oregon</th><br>      <td>-1.0</td><br>      <td>0.0</td><br>      <td>1.0</td><br>    </tr><br>  </tbody><br></table><br></div>



<h1 id="六、函数应用及映射"><a href="#六、函数应用及映射" class="headerlink" title="六、函数应用及映射"></a>六、函数应用及映射</h1><p>numpy通用函数同样使用于pandas。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.random.randn(<span class="number">4</span>, <span class="number">3</span>), columns=list(<span class="string">'bde'</span>),index=[<span class="string">'Utah'</span>, <span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Oregon'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>b</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Utah</th><br>      <td>-0.058971</td><br>      <td>0.962351</td><br>      <td>0.886096</td><br>    </tr><br>    <tr><br>      <th>Ohio</th><br>      <td>-1.397272</td><br>      <td>-0.207003</td><br>      <td>0.198786</td><br>    </tr><br>    <tr><br>      <th>Texas</th><br>      <td>-0.293349</td><br>      <td>0.303266</td><br>      <td>-0.037189</td><br>    </tr><br>    <tr><br>      <th>Oregon</th><br>      <td>-1.263869</td><br>      <td>0.745421</td><br>      <td>-1.587822</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.abs(frame) <span class="comment">#求绝对值</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>b</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Utah</th><br>      <td>0.058971</td><br>      <td>0.962351</td><br>      <td>0.886096</td><br>    </tr><br>    <tr><br>      <th>Ohio</th><br>      <td>1.397272</td><br>      <td>0.207003</td><br>      <td>0.198786</td><br>    </tr><br>    <tr><br>      <th>Texas</th><br>      <td>0.293349</td><br>      <td>0.303266</td><br>      <td>0.037189</td><br>    </tr><br>    <tr><br>      <th>Oregon</th><br>      <td>1.263869</td><br>      <td>0.745421</td><br>      <td>1.587822</td><br>    </tr><br>  </tbody><br></table><br></div>



<p>另外一个常用的操作是在一维数组上应用的函数可以应用到每一行或每一列。DataFrame的apply方法的具体用法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="keyword">lambda</span> x: x.max() - x.min()   </span><br><span class="line">frame.apply(f)     <span class="comment">#缺省情况下，对每一列应用f函数，返回结果是以列名为索引名的Series对象。</span></span><br></pre></td></tr></table></figure>
<pre><code>b    1.338300
d    1.169354
e    2.473918
dtype: float64
</code></pre><p>如果指定<code>axis=column</code>参数，则可按行应用<code>f</code>函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.apply(f, axis=<span class="string">'columns'</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Utah      1.021322
Ohio      1.596058
Texas     0.596615
Oregon    2.333243
dtype: float64
</code></pre><p>大部分普通的数组统计函数（如sum和mean）都是DataFrame函数，因此apply函数并无使用的必要。<br>传递给apply的函数并非一定要返回一个标量，它也可以返回一个Series对象，即可返回一组值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> pd.Series([x.min(), x.max()], index=[<span class="string">'min'</span>, <span class="string">'max'</span>])</span><br><span class="line">frame.apply(f)</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>b</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>min</th><br>      <td>-1.397272</td><br>      <td>-0.207003</td><br>      <td>-1.587822</td><br>    </tr><br>    <tr><br>      <th>max</th><br>      <td>-0.058971</td><br>      <td>0.962351</td><br>      <td>0.886096</td><br>    </tr><br>  </tbody><br></table><br></div>



<p>元素智能（element-wise）函数也可以应用在此。比如，要对DataFrame对象的每一个元素按格式字符串格式化，可以如下例这样使用applymap函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">format = <span class="keyword">lambda</span> x: <span class="string">'%.2f'</span> % x <span class="comment">#保留两位小数的格式化字符串</span></span><br><span class="line">frame.applymap(format)</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>b</th><br>      <th>d</th><br>      <th>e</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>Utah</th><br>      <td>-0.06</td><br>      <td>0.96</td><br>      <td>0.89</td><br>    </tr><br>    <tr><br>      <th>Ohio</th><br>      <td>-1.40</td><br>      <td>-0.21</td><br>      <td>0.20</td><br>    </tr><br>    <tr><br>      <th>Texas</th><br>      <td>-0.29</td><br>      <td>0.30</td><br>      <td>-0.04</td><br>    </tr><br>    <tr><br>      <th>Oregon</th><br>      <td>-1.26</td><br>      <td>0.75</td><br>      <td>-1.59</td><br>    </tr><br>  </tbody><br></table><br></div>



<p>applymap函数名称的由来是因为Series有一个对应的map函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame[<span class="string">'e'</span>].map(format)</span><br></pre></td></tr></table></figure>
<pre><code>Utah       0.89
Ohio       0.20
Texas     -0.04
Oregon    -1.59
Name: e, dtype: object
</code></pre><h1 id="七、排序"><a href="#七、排序" class="headerlink" title="七、排序"></a>七、排序</h1><p>按照某个标准对数据集进行排序是另一个重要的内建操作。按照行名或列名的词义进行排序使用<code>sort_index</code>函数，其返回结果为一个新的排好序的对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series(range(<span class="number">4</span>), index=[<span class="string">'d'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br><span class="line">obj.sort_index()</span><br></pre></td></tr></table></figure>
<pre><code>a    1
b    2
c    3
d    0
dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.arange(<span class="number">8</span>).reshape((<span class="number">2</span>, <span class="number">4</span>)),index=[<span class="string">'three'</span>, <span class="string">'one'</span>],columns=[<span class="string">'d'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.sort_index()  <span class="comment">#缺省，按行排序</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>d</th><br>      <th>a</th><br>      <th>b</th><br>      <th>c</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>one</th><br>      <td>4</td><br>      <td>5</td><br>      <td>6</td><br>      <td>7</td><br>    </tr><br>    <tr><br>      <th>three</th><br>      <td>0</td><br>      <td>1</td><br>      <td>2</td><br>      <td>3</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.sort_index(axis=<span class="number">1</span>)  <span class="comment">#也可以使用axis=1参数按列进行排序</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>a</th><br>      <th>b</th><br>      <th>c</th><br>      <th>d</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>three</th><br>      <td>1</td><br>      <td>2</td><br>      <td>3</td><br>      <td>0</td><br>    </tr><br>    <tr><br>      <th>one</th><br>      <td>5</td><br>      <td>6</td><br>      <td>7</td><br>      <td>4</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.sort_index(axis=<span class="number">1</span>, ascending=<span class="keyword">False</span>) <span class="comment">#也可以降序排序</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>d</th><br>      <th>c</th><br>      <th>b</th><br>      <th>a</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>three</th><br>      <td>0</td><br>      <td>3</td><br>      <td>2</td><br>      <td>1</td><br>    </tr><br>    <tr><br>      <th>one</th><br>      <td>4</td><br>      <td>7</td><br>      <td>6</td><br>      <td>5</td><br>    </tr><br>  </tbody><br></table><br></div>



<p>对Series对象，可以使用sort_vlues对数值进行排序，而不是按照索引的顺序。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series([<span class="number">4</span>, <span class="number">7</span>, <span class="number">-3</span>, <span class="number">2</span>])</span><br><span class="line">obj.sort_values()</span><br></pre></td></tr></table></figure>
<pre><code>2   -3
3    2
0    4
1    7
dtype: int64
</code></pre><p>缺值的位置排到后面。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series([<span class="number">4</span>, np.nan, <span class="number">7</span>, np.nan, <span class="number">-3</span>, <span class="number">2</span>])</span><br><span class="line">obj.sort_values()</span><br></pre></td></tr></table></figure>
<pre><code>4   -3.0
5    2.0
0    4.0
2    7.0
1    NaN
3    NaN
dtype: float64
</code></pre><p>对DataFrame按值排序，可以指定一列或多列作为排序的关键字。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(&#123;<span class="string">'b'</span>: [<span class="number">4</span>, <span class="number">7</span>, <span class="number">-3</span>, <span class="number">2</span>], <span class="string">'a'</span>: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>]&#125;)</span><br><span class="line">frame</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>a</th><br>      <th>b</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>0</td><br>      <td>4</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>1</td><br>      <td>7</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>0</td><br>      <td>-3</td><br>    </tr><br>    <tr><br>      <th>3</th><br>      <td>1</td><br>      <td>2</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.sort_values(by=<span class="string">'b'</span>) <span class="comment">#b列作为排序关键字</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>a</th><br>      <th>b</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>2</th><br>      <td>0</td><br>      <td>-3</td><br>    </tr><br>    <tr><br>      <th>3</th><br>      <td>1</td><br>      <td>2</td><br>    </tr><br>    <tr><br>      <th>0</th><br>      <td>0</td><br>      <td>4</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>1</td><br>      <td>7</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.sort_values(by=[<span class="string">'a'</span>, <span class="string">'b'</span>]) <span class="comment">#a列为主关键字，b列为次关键字</span></span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>a</th><br>      <th>b</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>2</th><br>      <td>0</td><br>      <td>-3</td><br>    </tr><br>    <tr><br>      <th>0</th><br>      <td>0</td><br>      <td>4</td><br>    </tr><br>    <tr><br>      <th>3</th><br>      <td>1</td><br>      <td>2</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>1</td><br>      <td>7</td><br>    </tr><br>  </tbody><br></table><br></div>



<h2 id="Ranking排名"><a href="#Ranking排名" class="headerlink" title="Ranking排名"></a>Ranking排名</h2><p>rank函数返回从小到大排序的下标，即给予每个数值排序后所在的位置和名次。对于平级的数，rank是通过“为各组分配一个平均排名”的方式破坏评级关系。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series([<span class="number">7</span>, <span class="number">-5</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">4</span>])</span><br><span class="line">obj.rank()</span><br></pre></td></tr></table></figure>
<pre><code>0    6.5
1    1.0
2    6.5
3    4.5
4    3.0
5    2.0
6    4.5
dtype: float64
</code></pre><p>对于平级的数，也可以不使用平均排名的办法，而是可以使用位置在前面的数的排名就靠前。<br>向下面的列子，对0和2这两个位置的数，虽然平级，但是给予位置0的数的评级为6.0，位置2的数的评级为7.0，而不是6.5，因为使用的首次相遇策略。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj.rank(method=<span class="string">'first'</span>)</span><br></pre></td></tr></table></figure>
<pre><code>0    6.0
1    1.0
2    7.0
3    4.0
4    3.0
5    2.0
6    5.0
dtype: float64
</code></pre><p>也可以降序排列，相同评级使用最大数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj.rank(ascending=<span class="keyword">False</span>, method=<span class="string">'max'</span>)</span><br></pre></td></tr></table></figure>
<pre><code>0    2.0
1    7.0
2    2.0
3    4.0
4    5.0
5    6.0
6    4.0
dtype: float64
</code></pre><p>数值相等的元素分组的评级计算方法：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>‘average’</td>
<td>缺省：对组内元素赋值平均值</td>
</tr>
<tr>
<td>‘min’</td>
<td>对分组内元素都使用最小值</td>
</tr>
<tr>
<td>‘max’</td>
<td>对分组内元素都是用最大值</td>
</tr>
<tr>
<td>‘first’</td>
<td>使用数值在数据中出现的顺序</td>
</tr>
<tr>
<td>‘dense’</td>
<td>与’min’类似，但是组间评级依次加1</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj.rank(method=<span class="string">'dense'</span>)   <span class="comment">#稠密模式，评级依次加1，中间无空值</span></span><br></pre></td></tr></table></figure>
<pre><code>0    5.0
1    1.0
2    5.0
3    4.0
4    3.0
5    2.0
6    4.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj.rank(method=<span class="string">'min'</span>)  <span class="comment">#排名中间可能有空值，该例子没有5</span></span><br></pre></td></tr></table></figure>
<pre><code>0    6.0
1    1.0
2    6.0
3    4.0
4    3.0
5    2.0
6    4.0
dtype: float64
</code></pre><h3 id="DataFrame的数值排名可以按行或列"><a href="#DataFrame的数值排名可以按行或列" class="headerlink" title="DataFrame的数值排名可以按行或列"></a>DataFrame的数值排名可以按行或列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(&#123;<span class="string">'b'</span>: [<span class="number">4.3</span>, <span class="number">7</span>, <span class="number">-3</span>, <span class="number">2</span>], <span class="string">'a'</span>: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>],<span class="string">'c'</span>: [<span class="number">-2</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">-2.5</span>]&#125;)</span><br><span class="line">frame</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>a</th><br>      <th>b</th><br>      <th>c</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>0</td><br>      <td>4.3</td><br>      <td>-2.0</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>1</td><br>      <td>7.0</td><br>      <td>5.0</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>0</td><br>      <td>-3.0</td><br>      <td>8.0</td><br>    </tr><br>    <tr><br>      <th>3</th><br>      <td>1</td><br>      <td>2.0</td><br>      <td>-2.5</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.rank(axis=<span class="string">'columns'</span>)</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>a</th><br>      <th>b</th><br>      <th>c</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>2.0</td><br>      <td>3.0</td><br>      <td>1.0</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>1.0</td><br>      <td>3.0</td><br>      <td>2.0</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>2.0</td><br>      <td>1.0</td><br>      <td>3.0</td><br>    </tr><br>    <tr><br>      <th>3</th><br>      <td>2.0</td><br>      <td>3.0</td><br>      <td>1.0</td><br>    </tr><br>  </tbody><br></table><br></div>



<h1 id="八、重复标签的索引"><a href="#八、重复标签的索引" class="headerlink" title="八、重复标签的索引"></a>八、重复标签的索引</h1><p>上面的例子中，DataFrame的索引标签都是唯一的。很多pandas函数（如reindex）要求索引标签是唯一的，但这不是强制的。我们来看一个重复索引标签的Series的例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series(range(<span class="number">5</span>), index=[<span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0
a    1
b    2
b    3
c    4
dtype: int32
</code></pre><p>index对象的is_unique属性可以告诉你索引标签是否是唯一的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj.index.is_unique</span><br></pre></td></tr></table></figure>
<pre><code>False
</code></pre><p>索引标签是否唯一影响数据选取的结果。如果索引标签对应多条数据，那么选取结果为Series对象，否则为一个标量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="string">'a'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>a    0
a    1
dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="string">'c'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>4
</code></pre><p>这样的结果会使代码变得复杂，因为根据索引标签是否唯一得到的结果可能不是一种类型。这对DataFrame也是一样的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">4</span>, <span class="number">3</span>), index=[<span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'b'</span>])</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>0</th><br>      <th>1</th><br>      <th>2</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>a</th><br>      <td>-0.290790</td><br>      <td>-0.402699</td><br>      <td>1.277095</td><br>    </tr><br>    <tr><br>      <th>a</th><br>      <td>0.785005</td><br>      <td>2.835915</td><br>      <td>-0.318999</td><br>    </tr><br>    <tr><br>      <th>b</th><br>      <td>-0.141299</td><br>      <td>-2.397378</td><br>      <td>-0.010815</td><br>    </tr><br>    <tr><br>      <th>b</th><br>      <td>-1.472500</td><br>      <td>1.807394</td><br>      <td>-2.828368</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[<span class="string">'b'</span>]</span><br></pre></td></tr></table></figure>
<div><br><style><br>    .dataframe thead tr:only-child th {<br>        text-align: right;<br>    }<br><br>    .dataframe thead th {<br>        text-align: left;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>0</th><br>      <th>1</th><br>      <th>2</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>b</th><br>      <td>-0.141299</td><br>      <td>-2.397378</td><br>      <td>-0.010815</td><br>    </tr><br>    <tr><br>      <th>b</th><br>      <td>-1.472500</td><br>      <td>1.807394</td><br>      <td>-2.828368</td><br>    </tr><br>  </tbody><br></table><br></div>



      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Python/" rel="tag"><i class="fa fa-tag"></i> Python</a>
          
            <a href="/tags/Pandas/" rel="tag"><i class="fa fa-tag"></i> Pandas</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/12/19/numpy-linagl/" rel="next" title="numpy学习笔记5：线性代数函数及数组对象的文件读写。">
                <i class="fa fa-chevron-left"></i> numpy学习笔记5：线性代数函数及数组对象的文件读写。
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<span class="jiathis_txt">分享到：</span>
<a class="jiathis_button_fav">收藏夹</a>
<a class="jiathis_button_copy">复制网址</a>
<a class="jiathis_button_email">邮件</a>
<a class="jiathis_button_weixin">微信</a>
<a class="jiathis_button_qzone">QQ空间</a>
<a class="jiathis_button_tqq">腾讯微博</a>
<a class="jiathis_button_douban">豆瓣</a>
<a class="jiathis_button_share">一键分享</a>

<a href="http://www.jiathis.com/share?uid=2140465" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a>
<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
  data_track_clickback:true,
  summary:"",
  shortUrl:false,
  hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2150999" charset="utf-8"></script>
<!-- JiaThis Button END -->
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="uyan_frame"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Feilishu</p>
              <p class="site-description motion-element" itemprop="description">为学日益，为道日损，损之又损，以至于无为，无为而无不为。取天下常以无事，及其有事，不足以取天下。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#一、重建索引（Reindex）"><span class="nav-number">1.</span> <span class="nav-text">一、重建索引（Reindex）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#reindex函数参数选项"><span class="nav-number">1.1.</span> <span class="nav-text">reindex函数参数选项</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二、使用drop函数从一条轴上删除元素"><span class="nav-number">2.</span> <span class="nav-text">二、使用drop函数从一条轴上删除元素</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-删除Series中的元素"><span class="nav-number">2.1.</span> <span class="nav-text">1.删除Series中的元素</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-指定轴删除DataFrame的行或列"><span class="nav-number">2.2.</span> <span class="nav-text">2.指定轴删除DataFrame的行或列</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三、索引、选择、筛选"><span class="nav-number">3.</span> <span class="nav-text">三、索引、选择、筛选</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#对Series索引操作"><span class="nav-number">3.1.</span> <span class="nav-text">对Series索引操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对DataFrame的切片、索引操作生成一列或多列元素。"><span class="nav-number">3.2.</span> <span class="nav-text">对DataFrame的切片、索引操作生成一列或多列元素。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用loc或iloc进行行选择"><span class="nav-number">3.3.</span> <span class="nav-text">使用loc或iloc进行行选择</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DataFrame的索引类型"><span class="nav-number">3.3.1.</span> <span class="nav-text">DataFrame的索引类型</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四、整数索引产生的问题"><span class="nav-number">4.</span> <span class="nav-text">四、整数索引产生的问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#五、数学运算与数据对齐"><span class="nav-number">5.</span> <span class="nav-text">五、数学运算与数据对齐</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#对DataFrame来说，行和列两个方向都要对齐"><span class="nav-number">5.0.1.</span> <span class="nav-text">对DataFrame来说，行和列两个方向都要对齐</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#以填充数值进行算数运算"><span class="nav-number">5.1.</span> <span class="nav-text">以填充数值进行算数运算</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#对于Series和DataFrame的Reindex函数，也可以指定缺失填充值"><span class="nav-number">5.1.1.</span> <span class="nav-text">对于Series和DataFrame的Reindex函数，也可以指定缺失填充值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#灵活的算数运算函数"><span class="nav-number">5.1.2.</span> <span class="nav-text">灵活的算数运算函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DateFrame和Series之间的运算"><span class="nav-number">5.2.</span> <span class="nav-text">DateFrame和Series之间的运算</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#六、函数应用及映射"><span class="nav-number">6.</span> <span class="nav-text">六、函数应用及映射</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#七、排序"><span class="nav-number">7.</span> <span class="nav-text">七、排序</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Ranking排名"><span class="nav-number">7.1.</span> <span class="nav-text">Ranking排名</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DataFrame的数值排名可以按行或列"><span class="nav-number">7.1.1.</span> <span class="nav-text">DataFrame的数值排名可以按行或列</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#八、重复标签的索引"><span class="nav-number">8.</span> <span class="nav-text">八、重复标签的索引</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Feilishu</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  
    

    
      <!-- UY BEGIN -->
      <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2150999"></script>
      <!-- UY END -->
    
  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
